https://slurm.io/tpost/phdmogo9y1-rabbitmq-i-apache-kafka-chto-vibrat-i-mo

RabbitMQ - Push, когда сообщения отправляются получателям.
Kafka - Pull - получатели сами достают сообщения.

# Rabbit

Принимает сообщение. Подтверждает прием. Перенаправляет
получателям. Пока сообщение не доставлено, - оно остается в очереди.
Доставлено - удаляется из очереди.

Одно сообщение могут получить несколько подписчиков.
Хорошо когда много источников и приемников сообщений.

Бронирование билетов, логистика.

# Kafka

* Получает данные от приложений и раскидывает по топикам в хранилище.
* Приложения считывают эту инфу, указывая что надо прочитать.
* Отслеживания получил ли подписчик сообщения - нет.
* Она просто хранит сообщения заданное время.

Централизованный сбор, безопасное хранение, передача сообщений.
Обычно большое кол-во неструктурированных данных.

Системы аналитики, финансовые системы, соц. сети, онлайн-игры.

========

При больших очередях Rabbit тормозит.
Скорость Kafka не зависит от объема данных.

Kafka масштабируется горизонтально.
Rabbit - вертикально.

Есть Kafka Connect, Kafka Streams для эмуляции маршрутизации Rabbit.

RabbitMQ позволяет создавать произвольные группы событий.
Разные приложения не могут совместно использовать очередь.
Каждому из них нужна своя очередь.

https://tproger.ru/articles/pochemu-my-ispolzuem-kafka-vmesto-rabbitmq-sravnenie-i-preimushhestva/

zookeeper - хранит метаданные.

Раббит может дублировать сообщения?
Когда одно надо доставить нескольким?

Фишка раббита - гибкая маршрутизация. 4 способа маршрутизации.

Rabbit - FILE queue.
Kafka - Journal.

Rabbit -, push, - мгновенное получение.

При неравномерной генерации и обработки - перегрузка очередей.

Кафка - топики, партиции.
Кафка - тупой сервер, умный клиент.
Rabbit - умный сервер, тупой клиент.

Раббит - при нагрузке теряет производительность.



