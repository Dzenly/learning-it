https://www.youtube.com/watch?v=GBrLfZvRrd8&ab_channel=AndreySozykin

# TCP
Система нумерации сегментов.

Скользящее окно - одно подтверждение
на весь пакет сегментов.

Размер окна- кол-во байтов, до первого подтверждения.

Сейчас размер окна - до 1 Гигабайта.

# Виды подтверждений

## Кумулятивное
По умолчанию. Подтвеждает что получен данный байт и все
предыдущие.
Если какой-то байт потерялся - все сегменты заново.

## Выборочное
Когда вычисляешь какой конкретно сегмент косячный.


# TCP/соединение

https://www.youtube.com/watch?v=vt69HEbZ_pI&ab_channel=AndreySozykin

Установка / разрыв.

* Syn (+ номер передаваемого байта)

* SYN: номер байта в потоке байт, ACK: номер следующего ожидаемого байта)

Эти номера выбираются сложным алгоритмом, но для простоты
можно считать что случайно.

* байт ACK (номер байта в сообщений, номер следующего ожидаемого байта)

===

# Разрыв

* Одновременное
* Одностороннее

FIN
ACK

FIN
ACK

RST - в крит. ситуациях двусторонее закрытие.

===

https://selectel.ru/blog/tcp-vs-udp/

* Система нумерации сегментов.
* Управление потоком.
* Контроль ошибок.
* Контроль перегрузки сети.

Доставка и целостность.

На основе TCP работают:
* ssh, ftp, telnet, smtp, pop, imap, http ??.

Клиент выбирает порядковый номер.
Сервер - номер подтверждения.

Срочность - вне очереди.

# UDP в службах где ждать плохо

DNS, SNMP, DHCP






