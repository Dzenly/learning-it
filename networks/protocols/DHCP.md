Dynamic Host Configuration Protocol

DORA: Discover Offer Request Acknowledge.

DHCPDISCOVER (255.255.255.255)

Маршрутизаторы, коммутаторы, выделенные сервера.

DHCPOFFER (предлагается IP адрес)

broadcast, unicast.

DHCPREQUEST (Адрес, Да беру)

HDCP ACK

Могут быть и такие сообщения:
* NACK (запрет)
* RELEASE - освобождение.
* INFORM - если клиент знает свой адрес

https://www.youtube.com/watch?v=uZJ8WVdw-Ck&ab_channel=AndreySozykin

Методы назначения IP
* Вручную.
* Автоматом.

Недостатки DHCP:
* Требует создания инфры, DHCP сервер.
* IP адреса могут меняться.

===========

Фиксированный: с привязкой к MAC.
Динамический: пул адресов.
IP адрес выделяется на lease time.
Продление аренды - когда прошла половина срока.

DHCP Release автоматом посылается при выключении всеми
современными OS.
Если не было DHCP Release - адрес освободится, когда закончится аренда.

Опции в DHCP пакете:

* Маска подсети
* Маршрутизатор по умолчанию (шлюз)
* Адреса DNS
* Адреса серверов времени
* Маршруты
* Др. инфа.

Маршрутизатор не передает широковещательный трафик.
Соответственно DHCP сервер должен быть в локальном сегменте сети.
DHCP Relay - разруливает эту проблему.









