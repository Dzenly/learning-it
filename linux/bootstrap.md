https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81_%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B8_Linux#:~:text=%D0%97%D0%B0%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0%20%D0%BF%D1%80%D0%BE%D1%85%D0%BE%D0%B4%D0%B8%D1%82%20%D0%B2%20%D0%B4%D0%B2%D0%B0%20%D1%8D%D1%82%D0%B0%D0%BF%D0%B0,%D0%BF%D0%B5%D1%80%D0%B5%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%BD%D0%BE%D0%BC%D1%83%20%D0%BF%D1%80%D0%BE%D1%86%D0%B5%D1%81%D1%81%D1%83%20%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA%D0%B0%20%D1%8F%D0%B4%D1%80%D0%B0.

Последовательная передача управления от системной прошивки (BIOS, UEFI)
* к загрузчику
* и дальше к ядру
* Затем ядро запускает планировщик.
* и выполняет программу init, которая настраивает пользовательское окружение.
* Потом ядро переходит в состояние бездействия, пока не получит внешний вызов.

==============

* Системная прошивка выполняет проверку и инициализацию хардваря.
* Если BIOS - в память загружаются данные из загрузочного раздела,
который загружает фазу1 загрузчика Linux. Фаза1 загружает фазу2.
* В случае UEFI запускается загрузчик из служебного раздела EFS,
из энергонезависимой памяти. Если собрать ядро с опцией EFI_STUB - можно загрузить прямо ядро Linux.
* Меню вариантов загрузки.
* Загруженое ядро распаковывается в памяти, настраивает работу хардваря, управления памятью и др и делает вызов start_kernel().
* start_kernel настраивает прерывания, инициирует драйверы. Порождает
*процесс бездействия* (содержит энергосберегающие инструкции), диспетчер, init (в пользовательском пространстве).
* Планировщик начинает управлять системой. Ядро начинает бездействовать.
* init настраивает службы и данные, не относящиеся к уровню ядра.
* Создается пользовательское окружение и выводится экран входа.

При завершении работы init вызывается для управляемого завершения программ
пользовательского уровня.

# BIOS

* Код выполняется в реальном режиме (незащищенном).
* И загружает первую фазу загрузчика (LILO, GRUB).
* Перфая фаза загружает остальной код загрузчика. Который дает выбрать ОС.
* Ядро загружается в ОЗУ, из файла-образа initrd настраивается мин. ФС,
и передается новой ОС.

# UEFI
* Загрузчик сразу запускается в защищенном режиме, сразу грузятся все фазы.
* В остальном все сходно с биос вариантом.

=========

# GRUB

## BIOS:
* BIOS считывает загрузчик 1-й фазы из MBR.
* Загрузчик 1-й фазы грузит загрузчик 2-й фазы (иногда м.б. промежуточный загрузчик для работы с диском).
* Вторая фаза отображает меню запуска GRUB.
* Грузится выбранная система.

## UEFI:
* UEFI грузит служебный раздел EFS GRUB (бинарный файл) стартует файловую систему /boot, где есть конфиг и доп. файлы загрузчика.
* Отображается меню загрузчика.
* Грузится выбранная система.

Ядро сжато. Так что сначала грузится, потом разархивируется.

Init RD - Initializing Ram Drive.
Маленькая ФС, которая позволяет подключить большую.





