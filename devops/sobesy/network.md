# Чем отличается коммутатор от маршрутизатора.

Хаб, Концентратор, Повторитель. Тупо повторяет включая посылку на источник.

Коммутатор (свитч) - только для локальных устройств.
Уже управляет кому передавать.

Маршрутизатор - соединяет сети, а не сами компьютеры.
Могут посылать сообщения любым устройствам в сети интернет.
Может смотреть маршруты других маршрутизаторов?
Постоянно обмениваются инфой о маршрутах и состоянии сети.
Имеет WAN (Wide Area Network)

Доомашние роутеры - сочетают в себе функции коммутатора, маршрутизатора,
и точки беспроводного доступа.

======================

OSI vs TCP/IP

https://www.youtube.com/watch?v=je0QFU7p5Oo

# OSI (Open Systems Interconnection) (чисто для теории)

## Физический (среда передачи, биты)

# Канальный (фреймы, исправление ошибок, адрес отправителя и получателя, мак адрес - канальный уровень, коммутаторы, мосты, ethernet (1й и 2й уровень) PPP, CDP, MPLS)
Поля фрейма:
* Границы кадров.
* Протокол (сетевого уровня) назначения.
* Контрольная сумма.
MTU (maximum transfer unit)

## Сетевой
* Появляется маршрутизация. И пакеты. Оборачиваем в конверт, где есть адреса сетевого уровня. IPшники.
* IP
* DNS
* ICMP (ping)

Маршрутизаторы.
BGP, OSPF, RIP, EIGRP.

## Транспортный
TCP/IP (Transmission Control Protocol)
UDP (User Datagram Protocol)

Снизу до транспортного уровня - удел сетевых инженеров.
Выше - скорее разработчик там рулит.

## Сеансовый
Соединение, сессии.

## Представление
Кодирование, сжатие. Например mpeg.

## Приложение
HTTPS, FTP, SMTP, POP3.

Инкапсуляция - с верхних на нижние. Передача.
Декапсуляция - с нижних на верхние. Прием.

============

# TCP/IP (практическая модель)

https://www.youtube.com/watch?v=2I1HnSN1H9o

Адреса - IP и порт (Сокет).

https://www.youtube.com/watch?v=UZo4ffQ-aAc


## Network Access (Сетевые интерфейсы) (OSI: Канальный + физический) Иногда канальный и сетевой разделяют.

## Internet, Сетевой ( Маршрутизаторы ). Аналогичен сетевому уровню в OSI.

## Transport (Аналогичен транспортному уровню в OSI)

## Application

============

# Протоколы.

* NCP - Network Control Protocol

* LLC - Logical Link Control (Канальный уровень OSI)

* IP (Internet Protocol, сетевой уровень) - Задача - маршрутизация датаграмм.
Не подтверждает факт передачи, не контролирует целостность.
Просто посылает из А в Б.
Есть v4 и v6 (128 бит, 10^28 адресов).
Header/Payload.

* TCP/IP
Скользящее окно (буфер до 64кб).
Отправление нескольких пакетов, с остановкой и подтверждением передачи.

* WebSocket - на TCP.

* PPP - Point to Point Protocol (канальный уровень)

* VPN - Может быть L2 (виртуальная сеть), а может L3 (маршрутизатор с несколькими интерфейсами).


