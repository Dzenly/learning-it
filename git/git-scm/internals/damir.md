https://www.opennet.ru/base/dev/git_guts.txt.html

Объекты в гит бывают 4х типов:
* blob
* tree
* commit
* tag

Из этих 4х типов, только blob не содержит ссылок.

**git prune** or **git gc --prune** - удаляет из базы объекты без ссылок на них.

**git-mktree**

**git-ls-tree**

Если деревья имеют один хэш, значит там один контент.

Это позволяет очень быстро находить tree с изменениями.

**git-diff-tree**
-p - cоздать patch.
-M - detect renames.

git apply - приложить гитовский патч, который умеет переименование.

В деревьях НЕ_сохраняются инфа о создателе, владельце вайла, датах создания.

## Commits

Хранят историю изменения.

Т.е. ссылку на tree, и ссылку на родительские коммиты.
Автор, комиттер, message, ?? data ??

Несколько коммитов могут ссылаться на одного предка.
Это ветвление.

Если у одного коммита несколько родителей - это слияние.

?? Что значит применять коммит ??

**git-commit-tree** - создает commmit-object.

### Системные переменные

$ export GIT_AUTHOR_NAME="Git Guts"
$ export GIT_AUTHOR_EMAIL="gitguts@localhost"
$ export GIT_COMMITTER_NAME="$GIT_AUTHOR_NAME"
$ export GIT_COMMITTER_EMAIL="$GIT_AUTHOR_EMAIL"

============================

Если ветки развиваются после коммита-слияния,
то этот коммит-слияние считается общим предком.

?? Если сделать реверт, а затем ещё раз слияние - оно не пройдет??

?? Почитать подробней про стратегии слияния гит ??

# references

.git/refs.

Есть несколько типов:

* Теги - /tags/ - не меняются со временем.
* Ветки - /heads/ (heads, branches) - меняются при добавлении нового коммита в цепочку.
* Ссылки на другие репозитории. /remotes/.

## Специальные ссылки.

* HEAD
./refs/HEAD - символическая ссылка (была раньше, а сейчас, похоже, нет).
Коммит, соотстветствующий рабочей копии.
Ссылка на текущую ветку.

* ORIG_HEAD

* MERGE_HEAD

====

**rev-parse** - SHA1 имя ветки по пути, например refs/heads/master.

Можно и так: git-rev-parse HEAD

# Ветки, Теги.

Теги - указывают на объект.
Могут указывать и на теги.

Теги можно подписывать.

Подпись тега подписывает коммит, и всю его историю (вместе с деревьями).

Теги могут быть легковесными и аннотированными.

Смысл тэгов - задавать юзер френдли имена для объектов.
Ибо хэш читать трудно.












      
      








